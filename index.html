<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nikhil | Portfolio</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-color: #f9f9f9;
      --text-color: #333;
      --accent: #2a5298;
      --muted: #e6ecff;
      --card-bg: #ffffff;
      --font-size: 16px;
    }
    [data-theme="dark"] {
      --bg-color: #141518;
      --text-color: #f2f2f2;
      --accent: #6ea8fe;
      --muted: #1f2230;
      --card-bg: #1b1d24;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      font-size: var(--font-size);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* ===== Sidebar ===== */
    #sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 240px;
      height: 100vh;
      background: var(--accent);
      color: #fff;
      padding: 80px 16px 24px;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: 900;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    #sidebar.open { transform: translateX(0); }
    #sidebar a {
      display: block;
      text-decoration: none;
      color: #fff;
      font-weight: 500;
      padding: 12px 14px;
      border-radius: 10px;
      margin: 6px 0;
    }
    #sidebar a:hover, #sidebar a:focus {
      background: rgba(255, 255, 255, 0.18);
      outline: none;
    }

    /* ===== Hamburger Button ===== */
    #menu-btn {
      position: fixed;
      top: 18px;
      left: 18px;
      width: 52px;
      height: 52px;
      display: grid;
      place-items: center;
      border: none;
      border-radius: 50%;
      background: var(--accent);
      color: #fff;
      font-size: 26px;
      cursor: pointer;
      z-index: 1001; /* above sidebar */
      box-shadow: 0 6px 16px rgba(0,0,0,0.18);
    }
    #menu-btn:hover { filter: brightness(1.05); }

    /* Optional top logo/icon (toggles sidebar on hover) */
    .top-icon {
      position: fixed;
      top: 20px;
      right: 24px;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: var(--muted);
      display: grid;
      place-items: center;
      font-weight: 700;
      z-index: 1000;
      user-select: none;
    }

    /* ===== Backdrop (click outside to close on mobile) ===== */
    #backdrop {
      position: fixed;
      top: 0;
      left: 240px; /* start right after the sidebar width */
      width: calc(100% - 240px);
      height: 100vh;
      background: rgba(0,0,0,0.35);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease;
      z-index: 800;
    }
    #backdrop.show { opacity: 1; pointer-events: auto; }

    /* ===== Sections ===== */
    main { isolation: isolate; }
    section {
      min-height: 100vh;
      padding: 96px 20px 64px;
      display: grid;
      place-items: center;
      text-align: center;
    }
    .container { width: min(1100px, 92%); margin: 0 auto; }
    h1, h2 { margin: 0 0 12px; }

    /* Home with parallax */
    #home {
      position: relative;
      color: #fff;
      background: #0e1a32;
    }
    #home::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image: url('https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=1920&auto=format&fit=crop');
      background-size: cover;
      background-position: center 0px; /* will be animated */
      background-attachment: fixed;
      filter: brightness(0.55);
      z-index: -1;
      transition: background-position 0.15s linear;
    }
    #home .hero {
      padding: 80px 0 40px;
    }
    #home .kicker { opacity: 0.9; letter-spacing: 0.06em; font-weight: 500; }
    #home h1 { font-size: clamp(2.2rem, 5vw, 3.2rem); font-weight: 700; }
    #home p { font-size: clamp(1rem, 2.2vw, 1.2rem); max-width: 760px; margin: 12px auto 0; }

    /* Cards / common blocks */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
      margin-top: 28px;
    }
    .card {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 18px;
      text-align: left;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 14px 32px rgba(0,0,0,0.12); }
    .card h3 { margin: 6px 0 8px; }
    .muted { color: #6b7280; }
    [data-theme="dark"] .muted { color: #9aa4b2; }

    /* Footer */
    footer { background: var(--muted); padding: 22px; text-align: center; }

    /* Controls (theme + font-size) */
    .controls {
      position: fixed;
      right: 18px;
      bottom: 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1002;
    }
    .controls button {
      padding: 10px 12px;
      border: none;
      border-radius: 10px;
      background: var(--card-bg);
      color: var(--text-color);
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }
    .controls button:active { transform: translateY(1px); }

    /* Smooth scroll */
    html { scroll-behavior: smooth; }

    /* Responsive tweak: on very small screens, backdrop should start at 0 */
    @media (max-width: 680px) {
      #backdrop { left: 0; width: 100%; }
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <nav id="sidebar" aria-label="Primary" aria-hidden="true">
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#portfolio">Portfolio</a>
    <a href="#services">Services</a>
    <a href="#contact">Contact</a>
  </nav>
  <div id="backdrop" aria-hidden="true"></div>

  <!-- Hamburger / Top icon -->
  <button id="menu-btn" aria-label="Open navigation" aria-controls="sidebar" aria-expanded="false">â˜°</button>
  <div class="top-icon" title="Nikhil">N</div>

  <main>
    <!-- Home -->
    <section id="home">
      <div class="container hero">
        <div class="kicker">BTech CSE (AI) â€¢ TKMCE</div>
        <h1>Nikhil â€” Portfolio</h1>
        <p>Undergraduate student passionate about AI, electronics and building thoughtful products that blend hardware and software. Scroll to explore my work.</p>
      </div>
    </section>

    <!-- About -->
    <section id="about">
      <div class="container">
        <h2>About Me</h2>
        <p class="muted">Iâ€™m a secondâ€‘year Computer Science (AI) student at TKMCE, Kollam. I like working on embedded systems, web projects, and ML fundamentals, focusing on clarity, accessibility, and realâ€‘world impact.</p>
      </div>
    </section>

    <!-- Portfolio -->
    <section id="portfolio">
      <div class="container">
        <h2>Portfolio</h2>
        <div class="grid">
          <article class="card">
            <h3>Water Level Monitoring System</h3>
            <p class="muted">Arduino + Ultrasonic + ESP8266 with LCD and web dashboard. Auto pump control, flow sensor analytics.</p>
          </article>
          <article class="card">
            <h3>AI Learning Experiments</h3>
            <p class="muted">Exploring classic ML algorithms and small datasets, visualizing results and error analysis.</p>
          </article>
          <article class="card">
            <h3>Personal Website</h3>
            <p class="muted">This interactive portfolio: sidebar navigation, dark mode, font controls, and parallax hero.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Services -->
    <section id="services">
      <div class="container">
        <h2>Services</h2>
        <div class="grid">
          <div class="card"><h3>Web Prototypes</h3><p class="muted">Clean, fast static sites on GitHub Pages.</p></div>
          <div class="card"><h3>Embedded Builds</h3><p class="muted">Arduino/ESP8266 prototypes with sensors and relays.</p></div>
          <div class="card"><h3>AI Basics</h3><p class="muted">Foundational ML experiments and evaluations.</p></div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="container">
        <h2>Contact</h2>
        <p>Connect with me on <a href="https://www.linkedin.com/in/YOUR-LINKEDIN" target="_blank" rel="noopener">LinkedIn</a> or email <a href="mailto:you@example.com">you@example.com</a>.</p>
      </div>
    </section>
  </main>

  <footer>
    <small>Â© 2025 Nikhil â€¢ All rights reserved</small>
  </footer>

  <!-- Controls -->
  <div class="controls" role="group" aria-label="Display controls">
    <button id="theme-btn" title="Toggle dark/light">ðŸŒ—</button>
    <button id="inc-font" title="Increase font size">A+</button>
    <button id="dec-font" title="Decrease font size">A-</button>
  </div>

  <script>
    const sidebar = document.getElementById('sidebar');
    const menuBtn = document.getElementById('menu-btn');
    const backdrop = document.getElementById('backdrop');

    const openSidebar = () => {
      sidebar.classList.add('open');
      sidebar.setAttribute('aria-hidden', 'false');
      menuBtn.setAttribute('aria-expanded', 'true');
      backdrop.classList.add('show');
    };
    const closeSidebar = () => {
      sidebar.classList.remove('open');
      sidebar.setAttribute('aria-hidden', 'true');
      menuBtn.setAttribute('aria-expanded', 'false');
      backdrop.classList.remove('show');
    };
    const toggleSidebar = () => sidebar.classList.contains('open') ? closeSidebar() : openSidebar();

    // Click to toggle (mobile & desktop)
    menuBtn.addEventListener('click', toggleSidebar);

    // Hover behavior: hover on the menu button opens; leaving the sidebar closes
    menuBtn.addEventListener('mouseenter', openSidebar);
    sidebar.addEventListener('mouseleave', closeSidebar);

    // Click outside to close
    backdrop.addEventListener('click', closeSidebar);

    // Keyboard accessibility
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeSidebar();
    });

    // Smooth parallax background on home section
    const home = document.getElementById('home');
    window.addEventListener('scroll', () => {
      const y = window.scrollY * 0.35; // adjust speed
      home.style.setProperty('--y', y + 'px');
      home.style.backgroundPosition = `center ${y}px`;
      // for the ::before layer
      home.style.setProperty('--bg-y', y + 'px');
      home.querySelector(':scope');
      home.style.setProperty('--dummy', 0); // no-op to ensure repaint on some browsers
      home.style.cssText = home.style.cssText; // force style update
    }, { passive: true });

    // Theme & font-size controls
    const themeBtn = document.getElementById('theme-btn');
    const incBtn = document.getElementById('inc-font');
    const decBtn = document.getElementById('dec-font');

    const setTheme = (theme) => {
      document.body.dataset.theme = theme;
      localStorage.setItem('theme', theme);
    };
    const toggleTheme = () => {
      const next = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
      setTheme(next);
    };
    const setFontSize = (sizePx) => {
      document.documentElement.style.fontSize = sizePx + 'px';
      localStorage.setItem('fontSize', String(sizePx));
    };

    themeBtn.addEventListener('click', toggleTheme);

    incBtn.addEventListener('click', () => {
      const current = parseInt(getComputedStyle(document.documentElement).fontSize, 10) || 16;
      setFontSize(Math.min(current + 2, 22));
    });
    decBtn.addEventListener('click', () => {
      const current = parseInt(getComputedStyle(document.documentElement).fontSize, 10) || 16;
      setFontSize(Math.max(current - 2, 12));
    });

    // Persist settings across reloads
    (function initPrefs(){
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) document.body.dataset.theme = savedTheme;
      const savedFont = parseInt(localStorage.getItem('fontSize') || '0', 10);
      if (savedFont) document.documentElement.style.fontSize = savedFont + 'px';
    })();
  </script>
</body>
</html>
